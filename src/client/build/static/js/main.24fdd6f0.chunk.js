(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{218:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),o=(a(95),a.p,a(18)),i=a(10),l=(a(96),a(97),a(36)),u=(a(53),a(98),a(12)),d=a(13),h=a(15),p=a(14),j=a.p+"static/media/comision.5227cc07.png",b=a(0),m=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(o.b,{className:"navbar-brand",to:"/",children:Object(b.jsx)("img",{src:j,alt:"Logo",width:"220px"})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)(o.b,{className:"nav-link",to:"/",children:"Inicio"}),Object(b.jsx)(o.b,{className:"nav-link",to:"/recurso",children:"Recursos"}),Object(b.jsx)(o.b,{className:"nav-link",to:"/tipos",children:"Tipos de recursos"})]})})]})})}}]),a}(n.Component),f=a(16),x=a(5),O=a.n(x),v=a(8),g=a(7),N=a.n(g),y=a(30),C=a.n(y),w=(a(63),a(35)),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={users:[],notes:[],userSelected:"",_id:"",title:"",content:"",date:new Date,editing:!1},e.onSubmit=function(){var t=Object(v.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={title:e.state.title,content:e.state.content,author:e.state.userSelected,date:new Date(e.state.date)},!e.state.editing){t.next=7;break}return t.next=5,N.a.put("http://localhost:4000/api/notes/"+e.state._id,n);case 5:t.next=9;break;case 7:return t.next=9,N.a.post("http://localhost:4000/api/notes",n);case 9:window.location.href="/";case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onChangeDate=function(t){e.setState({date:t})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:4000/api/users");case 2:if(t=e.sent,this.setState({users:t.data.map((function(e){return e.username})),userSelected:t.data[0].username}),!this.props.match.params.id){e.next=11;break}return e.next=7,N.a.get("http://localhost:4000/api/notes/"+this.props.match.params.id);case 7:a=e.sent,console.log(a.data),this.setState({title:a.data.title,content:a.data.content,date:new Date(a.data.date),userSelected:a.data.author,editing:!0,_id:this.props.match.params.id}),console.log("Fecha: "+a.data.date);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(b.jsxs)("div",{className:"card card-body",children:[Object(b.jsx)("h4",{children:"Crear Notas"}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("select",{className:"form-control",name:"userSelected",onChange:this.onInputChange,value:this.state.userSelected,required:!0,children:this.state.users.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",Object(f.a)({type:"text",className:"form-control",placeholder:"T\xedtulo",name:"title",required:!0,onChange:this.onInputChange,value:this.state.title},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("textarea",Object(f.a)({className:"form-control",placeholder:"Contenido",name:"content",required:!0,onChange:this.onInputChange,value:this.state.content},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)(C.a,{className:"form-control",selected:this.state.date,onChange:this.onChangeDate,value:this.state.date,required:!0})}),Object(b.jsx)("form",{onSubmit:this.onSubmit,children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})})]})})}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={users:[],username:""},e.getUsers=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("http://localhost:4000/api/users");case 2:a=t.sent,e.setState({users:a.data});case 4:case"end":return t.stop()}}),t)}))),e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onSubmit=function(){var t=Object(v.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,N.a.post("http://localhost:4000/api/users",{username:e.state.username});case 3:t.sent,e.getUsers();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUsers(),console.log(this.state.users);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsxs)("div",{className:"card card-body",children:[Object(b.jsx)("h3",{children:"Crear un Nuevo Usuario"}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"text",className:"form-control",onChange:this.onChangeUsername})}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("ul",{className:"list-group",children:this.state.users.map((function(e){return Object(b.jsx)("li",{className:"list-group-item list-group-item-action",children:e.username},e._id)}))})})]})}}]),a}(n.Component),_=a(22),I="https://prueba-erwin-gulfo-frontend.herokuapp.com/api/",D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={recursos:[],recursosBackup:[],textBuscar:""},e.deleteRecurso=function(){var t=Object(v.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,N.a.delete(I+"recursos/"+a);case 3:e.getRecursos();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getRecursos()}},{key:"getRecursos",value:function(){var e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(I+"recursos/");case 3:t=e.sent,this.setState({recursos:t.data,recursosBackup:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.b.error("Error al consultar los recursos bibliogr\xe1ficos");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"filter",value:function(e){var t=e.target.value,a=this.state.recursosBackup.filter((function(e){var a=e.titulo.toUpperCase(),n=t.toUpperCase();return a.indexOf(n)>-1}));this.setState({recursos:a,text:t})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("input",{className:"form-control col-md-4",type:"text",id:"myInput",name:"search",placeholder:"Buscar por t\xedtulo",title:"Ingresa un t\xedtulo",value:this.state.text,onChange:function(t){return e.filter(t)}}),Object(b.jsxs)("table",{class:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"T\xedtulo"}),Object(b.jsx)("th",{scope:"col",children:"Tipo"}),Object(b.jsx)("th",{scope:"col",children:"Claves"}),Object(b.jsx)("th",{scope:"col",children:"Descripci\xf3n"}),Object(b.jsx)("th",{scope:"col",children:"Cobertura"}),Object(b.jsx)("th",{scope:"col",children:"Opciones"})]})}),Object(b.jsx)("tbody",{children:this.state.recursos.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t.titulo}),Object(b.jsx)("td",{children:t.tipo}),Object(b.jsx)("td",{children:t.claves}),Object(b.jsx)("td",{children:t.descripcion}),Object(b.jsxs)("td",{children:["Fecha Inicial: ",t.cobertura.fecha_inicial," ",Object(b.jsx)("br",{}),"Fecha Final:   ",t.cobertura.fecha_final,"   ",Object(b.jsx)("br",{}),"Ciudad     :   ",t.cobertura.ciudad,"        ",Object(b.jsx)("br",{}),"GeoPoint   :                                     ",Object(b.jsx)("br",{}),"Lat:",t.cobertura.geopoint.lat," ",Object(b.jsx)("br",{}),"Long:",t.cobertura.geopoint.long]}),Object(b.jsx)("td",{children:Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)(o.b,{className:"btn btn-secondary",to:"/edit/"+t._id,children:Object(b.jsx)(_.a,{})}),Object(b.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:function(){return e.deleteRecurso(t._id)},children:Object(b.jsx)(_.b,{})})]})})]})}))})]})]})}}]),a}(n.Component),q=(n.Component,a(52)),T=a.n(q),F=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={tipos:[],recursos:[],tipoSelected:"",_id:"",editing:!1},e.onSubmit=function(){var t=Object(v.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={titulo:e.state.titulo,tipo:e.state.tipoSelected,claves:e.state.claves,descripcion:e.state.descripcion,cobertura:{fecha_inicial:e.state.fecha_inicial,fecha_final:e.state.fecha_final,ciudad:e.state.ciudad,geopoint:{lat:e.state.lat,long:e.state.long}}},!e.state.editing){t.next=7;break}return t.next=5,N.a.put(I+"recursos/"+e.state._id,n);case 5:t.next=9;break;case 7:return t.next=9,N.a.post(I+"recursos/",n);case 9:window.location.href="/";case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onChangeDateI=function(t){e.setState({fecha_inicial:t})},e.onChangeDateF=function(t){e.setState({fecha_final:t})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(I+"tipos");case 2:if(t=e.sent,this.setState({tipos:t.data.map((function(e){return e.tipo})),tipoSelected:t.data[0].tipo}),!this.props.match.params.id){e.next=10;break}return e.next=7,N.a.get(I+"recursos/"+this.props.match.params.id);case 7:a=e.sent,this.setState({titulo:a.data.titulo,tipoSelected:a.data.tipo,claves:a.data.claves,descripcion:a.data.descripcion,fecha_inicial:a.data.cobertura.fecha_inicial,fecha_final:a.data.cobertura.fecha_final,ciudad:a.data.cobertura.ciudad,lat:a.data.cobertura.geopoint.lat,long:a.data.cobertura.geopoint.long,editing:!0,_id:this.props.match.params.id}),console.log("Respuesta: "+a.data);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(b.jsxs)("div",{className:"card card-body",children:[Object(b.jsx)("h4",{children:"Crear Recursos"}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",Object(f.a)({type:"text",className:"form-control",placeholder:"T\xedtulo",name:"titulo",required:!0,onChange:this.onInputChange,value:this.state.titulo},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("select",{className:"form-control",name:"tipoSelected",onChange:this.onInputChange,value:this.state.tipoSelected,required:!0,children:[Object(b.jsx)("option",{value:"",children:"Seleccione.."}),this.state.tipos.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("textarea",Object(f.a)({className:"form-control",placeholder:"claves",name:"claves",required:!0,onChange:this.onInputChange,value:this.state.claves},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("textarea",Object(f.a)({className:"form-control",placeholder:"descripci\xf3n",name:"descripcion",required:!0,onChange:this.onInputChange,value:this.state.descripcion},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("label",{children:"Cobertura"})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)(C.a,{name:"fecha_inicial",className:"form-control",onChange:this.onChangeDateI,selected:T()(this.state.fecha_inicial).toDate(),placeholder:"Fecha Inicial",required:!0,placeholderText:"Fecha Inicial"})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)(C.a,{name:"fecha_final",className:"form-control",onChange:this.onChangeDateF,selected:T()(this.state.fecha_final).toDate(),placeholderText:"Fecha Final",required:!0})})]})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",Object(f.a)({type:"text",className:"form-control",placeholder:"Ciudad",name:"ciudad",required:!0,onChange:this.onInputChange,value:this.state.ciudad},"required",!0))}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("div",{class:"row",children:[Object(b.jsx)("div",{class:"col-6",children:Object(b.jsx)("input",Object(f.a)({type:"text",className:"form-control",placeholder:"Latitud",name:"lat",required:!0,onChange:this.onInputChange,value:this.state.lat},"required",!0))}),Object(b.jsx)("div",{class:"col-6",children:Object(b.jsx)("input",Object(f.a)({type:"text",className:"form-control",placeholder:"Longitud",name:"long",required:!0,onChange:this.onInputChange,value:this.state.long},"required",!0))})]})}),Object(b.jsx)("form",{onSubmit:this.onSubmit,children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})})]})})}}]),a}(n.Component),R=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={tipos:[],tipo:"",nombre:"",editing:!1},e.getTipos=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get(I+"tipos");case 2:a=t.sent,e.setState({tipos:a.data});case 4:case"end":return t.stop()}}),t)}))),e.onInputChange=function(t){console.log(t.target.name,t.target.value),e.setState(Object(f.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=Object(v.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n={tipo:e.state.tipo,nombre:e.state.nombre},!e.state.editing){t.next=7;break}return t.next=5,N.a.put(I+"tipos/"+e.state._id,n);case 5:t.next=9;break;case 7:return t.next=9,N.a.post(I+"tipos/",n);case 9:e.getTipos();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteTipo=function(){var t=Object(v.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,N.a.delete(I+"tipos/"+a);case 3:e.getTipos();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editTipo=function(){var t=Object(v.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,N.a.get(I+"tipos/"+a);case 3:n=t.sent,e.setState({_id:n.data._id,tipo:n.data.tipo,nombre:n.data.nombre,editing:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getTipos(),console.log(this.state.tipo);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsxs)("div",{className:"card card-body",children:[Object(b.jsx)("h3",{children:"Nuevo tipo de Recurso"}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"text",name:"tipo",className:"form-control",placeholder:"C\xf3digo para el tipo de contenido",onChange:this.onInputChange,value:this.state.tipo})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"text",name:"nombre",className:"form-control",onChange:this.onInputChange,placeholder:"Nombre del Tipo de contenido",value:this.state.nombre})}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})]})]})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("table",{class:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Tipo"}),Object(b.jsx)("th",{scope:"col",children:"Nombre"}),Object(b.jsx)("th",{scope:"col",children:"Opciones"})]})}),Object(b.jsx)("tbody",{children:this.state.tipos.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t.tipo}),Object(b.jsx)("td",{children:t.nombre}),Object(b.jsx)("td",{children:Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)(o.b,{className:"btn btn-secondary",onClick:function(){return e.editTipo(t._id)},children:Object(b.jsx)(_.a,{})}),Object(b.jsx)("button",{type:"submit",className:"btn btn-danger",onClick:function(){return e.deleteTipo(t._id)},children:Object(b.jsx)(_.b,{})})]})})]})}))})]})})]})}}]),a}(n.Component),U=function(){return Object(b.jsxs)(o.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)("div",{className:"container p-4",children:[Object(b.jsx)(i.a,{path:"/",exact:!0,component:D}),Object(b.jsx)(i.a,{path:"/edit/:id",component:F}),Object(b.jsx)(i.a,{path:"/create",component:k}),Object(b.jsx)(i.a,{path:"/recurso",component:F}),Object(b.jsx)(i.a,{path:"/user",component:S}),Object(b.jsx)(i.a,{path:"/tipos",component:R})]}),Object(b.jsx)(l.a,{})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,220)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),B()},95:function(e,t,a){},97:function(e,t,a){}},[[218,1,2]]]);
//# sourceMappingURL=main.24fdd6f0.chunk.js.map